---
sidebar: sidebar
permalink: beegfs-solution-overview.html
keywords: Overview, EF600, NetApp, BeeGFS, Verified Architecture
summary: "The second generation NetApp Verified Architecture (NVA) provides customers with a shared-disk HA architecture powered by BeeGFS file servers and NetApp E-Series and EF-Series storage systems."
---

= BeeGFS on NetApp solution overview
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/


[.lead]
_Re-work in progress -- Create a shorter overview, create subheads (and maybe divide up into smaller topics)_


The second generation of the BeeGFS on NetApp solution gives customers a flexible and robust storage architecture for demanding high-performance computing (HPC) and HPC-style ML/DL workloads. The modular building block approach allows organizations to start small and scale over time to whatever performance and capacity requirements the future may hold.

== HPC-style workloads

NetApp brings decades of experience building trusted enterprise storage systems, with its E-Series and EF-Series arrays being the most deployed block layer behind various parallel file systems in traditional HPC and media and entertainment environments. It is from this rich history NetApp steps forward to deliver fully supported, next generation parallel file system storage solutions for both traditional and enterprise HPC workloads, including HPC-style ML/DL training and large-scale natural language processing (NLP) and natural language understanding (NLU) workloads.

HPC-style workloads are typically characterized by multiple compute nodes or GPUs (often referred to as clients), all needing to access the same dataset in parallel to facilitate a distributed compute or training job. These datasets are often comprised of large files that should be striped across multiple physical storage nodes to eliminate the traditional hardware bottlenecks that would prevent concurrent access from tens, hundreds, or even thousands of clients to a single file.

The design of parallel file systems like BeeGFS have been proven historically as the preferred storage option for these HPC-style workloads. While traditionally these types of storage requirements were more commonly found in academic and research environments, as the value of data continues to explode, enterprises are increasingly finding themselves with similar requirements. This is driven in no small part by the maturing of various AI techniques and the availability and affordability of hardware accelerators such as GPUs that put advanced AI capabilities in reach of all organizations.

This shift toward HPC-style workloads in the enterprise has introduced high standards around fault tolerance and high availability in addition to the extreme performance expected from parallel file systems. To learn more, see https://www.netapp.com/blog/beegfs-for-ai-ml-dl/[^Why BeeGFS goes beyond HPC].

== High availability

The BeeGFS on NetApp solution provides customers with a shared-disk HA design powered by BeeGFS file servers and E-Series block storage systems. (To learn more, see https://www.netapp.com/blog/high-availability-beegfs/[High Availability for BeeGFS Supported by NetApp^])

The BeeGFS on NetApp solution takes advantage of the performance density delivered by the latest enterprise server and storage hardware and network speeds, requiring file nodes that feature dual AMD EPYC 7003 “Milan” processors and support for PCIe 4.0 with direct connects using 200Gb (HDR) InfiniBand to block nodes that provide end-to-end NVMe and NVMeOF using the NVMe/IB protocol.

A benefit of parallel file systems such as BeeGFS is their ability to be deployed and scaled out in different ways depending on the storage requirements. For example, use cases primarily featuring lots of small files will benefit from extra metadata performance and capacity, whereas use cases featuring fewer larger files might favor more storage capacity and performance for actual file contents. The fact that there are multiple considerations that impact different dimensions of the parallel file system deployment adds complexity to designing, deploying, and managing the parallel file system.

To address these challenges, NetApp has designed a standard building block architecture that is used to scale out each of these dimensions.

== BeeGFS building blocks
Typically, BeeGFS building blocks are deployed in one of three configuration profiles:

* BeeGFS management, metadata, and storage services.
+
The first building block deployed in each filesystem requires this configuration and is sometimes referred to as the base building block.

* BeeGFS Metadata and Storage services.

* BeeGFS Storage services.

The use of these different configuration profiles for each building block allows the file system to flexibly scale to meet variable performance and capacity requirements using the same underlying hardware platforms and building block design.

The only (optional) hardware change between the three configuration profiles is the use of smaller drives for BeeGFS metadata. Otherwise, all configuration changes are applied through software, and the use of Ansible as the deployment engine makes it straightforward to set the profile desired for a particular building block.

This approach provides administrators the flexibility needed to quickly adapt to diverse and shifting workload requirements while using a scalable building block architecture and the latest available hardware.

== Use case summary

The BeeGFS on NetApp solution applies to the following use cases:

* AI including ML, DL, NLP, and NLU
* HPC including applications accelerated by MPI and other distributed computing techniques
* Application workloads characterized by:
** Reading or writing to files larger than 1GB
** Reading or writing to the same file by multiple clients (10s, 100s, and 1000s)
* Multi-terabyte or multi-petabyte datasets
* Environments that need a single storage namespace optimizable for a mix of large and small files

== Enterprise edition

While the community edition of BeeGFS can be used free of charge, the enterprise edition requires purchasing a professional support subscription contract from a partner like NetApp. The enterprise edition allows use of several additional features including resiliency, quota enforcement, and storage pools.

The BeeGFS on NetApp solution expands the functionality of the BeeGFS enterprise edition by creating a fully integrated solution with NetApp hardware and enabling high availability based on NetApp E-Series and EF-Series storage systems using a shared-disk HA architecture.

The following figure compares the shared-nothing and shared-disk HA architectures.

image:beegfs-design-image1.png[Error: Missing Graphic Image]

BeeGFS on NetApp is delivered and deployed using Ansible automation hosted on https://github.com/netappeseries/beegfs/[GitHub^] and https://galaxy.ansible.com/netapp_eseries/beegfs[Ansible Galaxy^] (see the  <<xref>> section for more details).  Although it is primarily tested with the hardware used to assemble the BeeGFS building blocks described in this NetApp Verified Architecture, it can be configured to run on virtually any x86 based server using a supported Linux distribution.

In addition to being backed and supported by a leading on- premises and cloud storage provider, the key benefits of using BeeGFS on NetApp include the following:

* Availability of verified hardware designs providing full integration of hardware and software components to ensure predicable performance and reliability.
* Deployed and managed using Ansible for simplicity and consistency at scale.
* Monitoring and observability provided using the https://www.netapp.com/blog/monitoring-netapp-eseries/[E-Series Performance Analyzer and BeeGFS plugin^].
* High availability featuring a shared-disk architecture that provides data durability and availability.
* Support for https://www.netapp.com/blog/kubernetes-meet-beegfs/[modern workload management and orchestration^] using containers and Kubernetes.
